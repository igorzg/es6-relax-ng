<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../node_modules/traceur/bin/traceur-runtime.js"></script>
    <script src="../node_modules/requirejs/require.js"></script>
    <script>
        requirejs.config({
            baseUrl: '../dist/',
            paths: {
                "class": 'class'
            }
        });
        require(['class/ng-schema','core'], function(sch, core) {
            core.getXML('../test/xml/schema_4.rng').then(function (xml) {
                console.log('xml', xml, sch);
                var schema = new sch.NgSchema(xml);
                console.time('SCHEMA_SIMPLIFY');
                schema.simplify();
                console.timeEnd('SCHEMA_SIMPLIFY');


                var el = document.getElementById("sch2");
                el.innerHTML = schema.toString(true);
                var el2 = document.getElementById("sch1");
                el2.innerHTML = schema.toString(true, true);
            }, function(xhr) {
                console.log('error', xhr);
            });
        });
    </script>
    <style>
        .schema{
            width: 100%;
            min-height: 200px;
            color: red;
        }
    </style>
</head>
<body>
    <h1>Relax ng:</h1>
    <textarea class="schema" id="sch1"></textarea>
    <h1>Simplified</h1>
    <textarea class="schema" id="sch2"></textarea>
</body>
</html>